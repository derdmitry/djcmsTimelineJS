{% load sekizai_tags %}
{% load bootstrap3 %}
{% load static %}
{% load static from staticfiles %}

{% addtoblock "js" %}
    <script type="text/html" src="{% static '/static/js/templates/tmp_date.html' %}" id="tmp_issues">
    </script>{% endaddtoblock %}
{% addtoblock "js" %}
    <script src="{% static '/static/js/jquery.js' %}"></script>{% endaddtoblock %}
{% addtoblock "js" %}
    <script type="text/javascript" src="{% static '/static/js/bootstrap-checkbox.js' %}"></script>{% endaddtoblock %}
{% addtoblock "css" %}
    <style type="text/css" href="{% static '/css/bootstrap-checkbox.css' %}"></style>{% endaddtoblock %}
{% addtoblock "js" %}
    <script type="text/javascript" src="{% static '/static/js/jquery.timelinr.js' %}"></script>{% endaddtoblock %}
{% addtoblock "js" %}
    <script type="text/javascript" src="{% static '/static/js/simpletemplate.js' %}"></script>{% endaddtoblock %}
{% addtoblock "js" %}
    <script type="text/javascript" src="{% static '/static/js/timeline_plugin.js' %}"></script>{% endaddtoblock %}
{% addtoblock "css" %}
    <style type="text/css" href="{% static '/static/css/timelnr.css' %}"></style>{% endaddtoblock %}
{% addtoblock "css" %}
    <style type="text/css" href="{% static '/static/css/main.css' %}"></style>{% endaddtoblock %}

{% addtoblock "js" %}
    <script type="text/javascript">
    window.timeline_id = {{instance.timeline.id}};
    </script>{% endaddtoblock %}
{% addtoblock "js" %}
    <script type="text/html" id="tmp_date">
<li><a href="#<%=headline%>"><%=headline%></a></li>
</script>{% endaddtoblock %}

<div id="timeline" class="timeline">

    <ul id="issues"></ul>
    <div id="grad_left"></div>
    <div id="grad_right"></div>
    <a href="#" id="next">+</a>
    <a href="#" id="prev">-</a>
    <ul id="dates"></ul>
</div>
{% buttons %}
    <div id="range-dates">
        <p>Период:</p>
        <label for="start-date">Начало</label>
        <input type="date" id="start-date">
        <label for="end-date">Конец</label>
        <input type="date" id="end-date">
    </div>
    <div id="categories">
        <p>Категории:</p>
        <ul style="list-style-type: none;">
            <li>
                <label for="cat{{ cat.id }}">
                    <input type="checkbox" value="1" id="chk_check_all" checked class="checkbox">
                    Выбрать все/снять отметку
                </label>
            </li>
            {% for cat in categories %}
                <li>
                    <input type="checkbox" value="{{ cat.id }}" id="cat{{ cat.id }}" checked class="checkbox cats">
                    <label for="cat{{ cat.id }}" class="btn">
                        {{ cat.name }}
                    </label>
                </li>
            {% endfor %}
        </ul>

    </div>

{% endbuttons %}
<style>
    #timeline a {
        color: #ffffcc;
        text-decoration: none;
        -webkit-transition: 0.5s;
        -moz-transition: 0.5s;
        -o-transition: 0.5s;
        -ms-transition: 0.5s;
        transition: 0.5s;
    }

    #timeline a:hover,
    #timeline a.selected {
        color: #ffcc00;
    }

    #timeline h1, #timeline h2, #timeline h4, #timeline h5, #timeline h6 {
        text-align: center;
        color: #ccc;
        text-shadow: #000 1px 1px 2px;
        margin-bottom: 5px;
    }

    #timeline h1 {
        font-size: 18px;
    }

    #timeline h2 {
        font-size: 14px;
    }

    .sociales {
        text-align: center;
        margin-bottom: 20px;
    }

    #timeline {
        width: 800px;
        height: 550px;
        overflow: hidden;
        margin: 100px auto;
        position: relative;
        background: url('/static/images/dot.gif') left 45px repeat-x;
    }

    #dates {
        width: 800px;
        height: 60px;
        overflow: hidden;
    }

    #dates li {
        list-style: none;
        float: left;
{#        width: 100px;#}
        height: 50px;
        font-size: 14px;
        text-align: center;
        background: url('/static/images/biggerdot.png') center bottom no-repeat;
    }

    #dates a {
        line-height: 38px;
        padding-bottom: 10px;
    }

    #dates .selected {
        font-size: 32px;
    }

    #issues {
        width: 800px;
        height: 350px;
        overflow: hidden;
    }

    #issues li {
        width: 800px;
        height: 350px;
        list-style: none;
        float: left;
    }

    #issues li.selected img {
        -webkit-transform: scale(1.1, 1.1);
        -moz-transform: scale(1.1, 1.1);
        -o-transform: scale(1.1, 1.1);
        -ms-transform: scale(1.1, 1.1);
        transform: scale(1.1, 1.1);
    }

    #issues li img {
        float: left;
        margin: 10px 30px 10px 50px;
        background: transparent;
        -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF,endColorstr=#00FFFFFF)"; /* IE 8 */
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF, endColorstr=#00FFFFFF); /* IE 6 & 7 */
        zoom: 1;
        -webkit-transition: all 2s ease-in-out;
        -moz-transition: all 2s ease-in-out;
        -o-transition: all 2s ease-in-out;
        -ms-transition: all 2s ease-in-out;
        transition: all 2s ease-in-out;
        -webkit-transform: scale(0.7, 0.7);
        -moz-transform: scale(0.7, 0.7);
        -o-transform: scale(0.7, 0.7);
        -ms-transform: scale(0.7, 0.7);
        transform: scale(0.7, 0.7);
    }

    #issues li h1 {
        color: #ffcc00;
        font-size: 48px;
        margin: 20px 0;
        text-shadow: #000 1px 1px 2px;
    }

    #issues li p {
        font-size: 14px;
        margin-right: 70px;
        font-weight: normal;
        line-height: 22px;
        text-shadow: #000 1px 1px 2px;
    }

    #grad_left,
    #grad_right {
        width: 100px;
        height: 350px;
        position: absolute;
        top: 0;
    }

    #grad_left {
        left: 0;
{#        background: url('/static/images/grad_left.png') repeat-y;#}
    }

    #grad_right {
        right: 0;
{#        background: url('/static/images/grad_right.png') repeat-y;#}
    }

    #next,
    #prev {
        position: absolute;
        top: 0;
        font-size: 70px;
        top: 170px;
        width: 22px;
        height: 38px;
        background-position: 0 0;
        background-repeat: no-repeat;
        text-indent: -9999px;
        overflow: hidden;
    }

    #next:hover,
    #prev:hover {
        background-position: 0 -76px;
    }

    #next {
        right: 0;
        background-image: url('/static/images/next.png');
    }

    #prev {
        left: 0;
        background-image: url('/static/images/prev.png');
    }

    #next.disabled,
    #prev.disabled {
        opacity: 0.2;
    }
</style>